<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="utf-8">
	<title>Deerzer-Celio</title>		
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/style.css" type="text/css" media="all"/>
	<script src="assets/api_crea.min.js"></script>
	<script type="text/javascript">
        API_MMM.init( function(){
            //console.log('init');
            //firstLoad();
		});
	</script>
    <!--[if lte IE 8]> <html class="ie8" lang="fr"> <![endif]-->
    <!--[if lte IE 9]> <html class="ie9" lang="fr"> <![endif]-->
</head>
<body>
    <!-- <a href="https://ad.doubleclick.net/ddm/clk/296676207;123808939;x" target="_blank" class="redirect rdhaut"></a> 
    <a href="https://ad.doubleclick.net/ddm/clk/296676207;123808939;x" target="_blank" class="redirect rdbas"></a>
    <IMG SRC="https://ad.doubleclick.net/ddm/ad/N5615.152545.4844939933621/B9119195.123808939;sz=1x1;ord=[timestamp]?" BORDER=0 WIDTH=1 HEIGHT=1 ALT="Advertisement">-->
        
    <div id="decouvre" class="decouvre">
        <ul>
            <li class="dec1">découvre</li>
            <li class="dec2">les essentiels</li>
            <li class="dec3">de ton style</li>
        </ul>
    </div>
    
	<div id="titre1" class="titre transtitre">
        <span>Question 1</span>
        Le matin au réveil, pour partir<br/>du bon pied, tu écoutes plutôt...
    </div>
    <div id="titre2" class="titre nodisplay">
        <span>Question 2</span>
        Direction le boulot, tu y vas...
    </div>
    <div id="titre3" class="titre nodisplay">
        <span>Question 3</span>
        Quand tu sors entre potes,<br/>tu es plutôt...
    </div>
    <div id="questions" class="questions">
        <ul id="ul1" class="ul1">
            <li id="list11">
                <a href="a" id="q1a" class="cola quest qa">
                    <span class="lettre">A.</span>
                    <span class="texte">Retour aux 70's, fidèle à mes<br/>
                    classiques Rock'n'Roll</span>
                </a>
            </li>
            <li id="list12">
                <a href="b" id="q1b" class="cola quest qb">
                    <span class="lettre">B.</span>
                    <span class="texte">Détente, faut pas forcer,<br/>
                    restons légers</span>
                </a>
            </li>
            <li id="list13">
                <a href="c" id="q1c" class="cola quest qc">
                    <span class="lettre">C.</span>
                    <span class="texte">J'ai dormi 2 heures : ELECTRO-choc<br/>
                    pour me réveiller</span>
                </a>
            </li>
        </ul>
        
        <ul id="ul2" class="ul2 nodisplay">
            <li id="list21">
                <a href="a" id="q2a" class="colb quest qa">
                    <span class="lettre">A.</span>
                    <span class="texte">Veste en cuir, je chevauche<br/>
                    ma bécane</span>
                </a>
            </li>
            <li id="list22">
                <a href="b" id="q2b" class="colb quest qb">
                    <span class="lettre">B.</span>
                    <span class="texte">Relax sur mon fixie, c'est<br/>
                    que de la descente</span>
                </a>
            </li>
            <li id="list23">
                <a href="c" id="q2c" class="colb quest qc">
                    <span class="lettre">C.</span>
                    <span class="texte">Gros rush, je bondis dans<br/>
                    un taxi</span>
                </a>
            </li>
        </ul>
        
        <ul id="ul3" class="ul3 nodisplay">
            <li id="list31">
                <a href="a" id="q3a" class="colc quest qa">
                    <span class="lettre">A.</span>
                    <span class="texte">Rock&amp;Roll, un petit bar de<br/>
                        quartier, l’ambiance c’est nous</span>
                </a>
            </li>
            <li id="list32">
                <a href="b" id="q3b" class="colc quest qb">
                    <span class="lettre">B.</span>
                    <span class="texte">à la recherche du nouveau<br/>
                    spot branché</span>
                </a>
            </li>
            <li id="list33">
                <a href="c" id="q3c" class="colc quest qc">
                    <span class="lettre">C.</span>
                    <span class="texte">La place to be, hors de question<br/>
                    de rater LA soirée</span>
                </a>
            </li>
        </ul>
    </div>

    <div id="resultats" class="nodisplay resultats">
        <!--
        <div id="decouvre" class="decouvre">
            <ul>
                <li>découvre</li>
                <li>les essentiels</li>
                <li>de ton style</li>
            </ul>
        </div>
        -->
        <div id="result1" class="resultat">
            <div id="titrefin" class="restitre restitre1">
                Tu es fait pour<br/>
                le look 
                <span id="rouge1" class="rouge displayno">Black rebel</span>
                <span id="rouge2" class="rouge displayno">Dandy chic</span>
                <span id="rouge3" class="rouge displayno">night addict</span>
                <span id="rouge4" class="rouge displayno">Casual chic</span>
                !
            </div>
            <div id="imagefin" class="image"></div>
            <a href="https://ad.doubleclick.net/ddm/clk/296809520;123691476;p" id="panier1" class="panier displayno" target="_blank" onclick="API_MMM.track( 211 ,'decouvrir mon look rock');"><span>Découvrir mon look</span></a>
            <a href="https://ad.doubleclick.net/ddm/clk/296809231;123809029;j" id="panier2" class="panier displayno" target="_blank" onclick="API_MMM.track( 212 ,'decouvrir mon look pop');"><span>Découvrir mon look</span></a>
            <a href="https://ad.doubleclick.net/ddm/clk/296808951;123808936;x" id="panier3" class="panier displayno" target="_blank" onclick="API_MMM.track( 213 ,'decouvrir mon look electro');"><span>Découvrir mon look</span></a>
            <a href="https://ad.doubleclick.net/ddm/clk/296808377;123808682;x" id="panier4" class="panier displayno" target="_blank" onclick="API_MMM.track( 214 ,'decouvrir mon look chill');"><span>Découvrir mon look</span></a>
            
            <a href="http://www.deezer.com/playlist/1410869947" target="_parent" id="playlist1" class="playlist displayno" onclick="API_MMM.track( 207 ,'ecouter ma playlist rock');"><span>Écouter ma playlist</span></a>
            <a href="http://www.deezer.com/playlist/1410868457" target="_parent" id="playlist2" class="playlist displayno" onclick="API_MMM.track( 208 ,'ecouter ma playlist pop');"><span>Écouter ma playlist</span></a>
            <a href="http://www.deezer.com/playlist/1410870807" target="_parent" id="playlist3" class="playlist displayno" onclick="API_MMM.track( 209 ,'ecouter ma playlist electro');"><span>Écouter ma playlist</span></a>
            <a href="http://www.deezer.com/playlist/1410871437" target="_parent" id="playlist4" class="playlist displayno" onclick="API_MMM.track( 210 ,'ecouter ma playlist chill');"><span>Écouter ma playlist</span></a>
        </div>  
    </div>
    
    <img src="assets/blank.gif" BORDER=0 WIDTH=1 HEIGHT=1 ALT="Advertisement" id="pixels">
        
    <script type="text/javascript">
        
        var pixels = Array( // pixels RG
            'https://ad.doubleclick.net/ddm/ad/N5615.152545.4844939933621/B9119195.123691476;sz=1x1;ord=[timestamp]?', // black rebel
            'https://ad.doubleclick.net/ddm/ad/N5615.152545.4844939933621/B9119195.123808682;sz=1x1;ord=[timestamp]?', // casual chic
            'https://ad.doubleclick.net/ddm/ad/N5615.152545.4844939933621/B9119195.123808936;sz=1x1;ord=[timestamp]?', // night addict
            'https://ad.doubleclick.net/ddm/ad/N5615.152545.4844939933621/B9119195.123809029;sz=1x1;ord=[timestamp]?'  // dandy chic
            );
        
        Array.prototype.count = function(obj){
            var count = this.length;
            if(typeof(obj) !== "undefined"){
                var array = this.slice(0), count = 0; // clone array and reset count
                for(i = 0; i < array.length; i++){
                    if(array[i] == obj){
                        count++;
                    }
                }
            }
            return count;
        }
        
        $dc = function(id) {
            return document.getElementById(id);
        };
        
        function firstLoad(){
            addAclass("list11","transtlist1");
            addAclass("list12","transtlist2");
            addAclass("list13","transtlist3");
            addAclass("decouvre","decouvrefin");
        }
        
        firstLoad();
        
        var dcquest = Array('q1a','q1b','q1c','q2a','q2b','q2c','q3a','q3b','q3c');
        var dcreponse = Array();
        
        for (var t in dcquest){
            //console.log(typeof t);
            if(t != 'count'){
                var iid = dcquest[t];
                $dc(iid).addEventListener = $dc(iid).addEventListener || function (e, f) { $dc(iid).attachEvent('on' + e, f); };
                //$dc(iid)addEvent(event,function(e){
                $dc(iid).addEventListener('click',function(e){
                    //alert(e.srcElement.parentNode);
                    var elem = e.srcElement.parentNode == null ?  e.target.parentElement : e.srcElement.parentNode;
                    //alert(e.srcElement.parentNode.getAttribute("id"));
                    //var id = e.target.parentElement.getAttribute("id");
                    //var ref = e.target.parentElement.getAttribute("href")
                    var id = elem.getAttribute("id");
                    var ref = elem.getAttribute("href")
                    if(dcreponse.length<3) dcreponse.push(ref);
                    //console.log(e.target.parentElement.getAttribute("id"));
                    if(e.preventDefault) e.preventDefault();
                    switch(dcreponse.length){
                        case 1:
                            addAclass("ul1","nodisplay");
                            removeAclass("ul2","nodisplay");
                            addAclass("titre1","nodisplay");
                            removeAclass("titre2","nodisplay");
                            addAclass("titre2","transtitre2");
                            addAclass("list21","transtlist1");
                            addAclass("list22","transtlist2");
                            addAclass("list23","transtlist3");
                            //$dc("q1a").classList ? $dc("q1a").classList.add('nodisplay') : $dc("q1a").className += ' nodisplay';
                            break;
                        case 2:
                            addAclass("ul2","nodisplay");
                            removeAclass("ul3","nodisplay");
                            addAclass("titre2","nodisplay");
                            removeAclass("titre3","nodisplay");
                            addAclass("titre3","transtitre2")
                            addAclass("list31","transtlist1");
                            addAclass("list32","transtlist2");
                            addAclass("list33","transtlist3");
                            break;
                        case 3:
                            addAclass("questions","nodisplay");
                            addAclass("titre3","nodisplay");
                            removeAclass("resultats","nodisplay");
                            
                            if(dcreponse.count('a')>=2){
                                addAclass("imagefin","image1");
                                removeAclass("rouge1","displayno");
                                API_MMM.track( 203 ,'black rebel'); // --------------------------- TRACK result 1
                                removeAclass("playlist1","displayno");
                                addAclass("playlist1","boutonb");
                                $dc('pixels').setAttribute("src",pixels[0]);
                                
                                removeAclass("panier1","displayno");
                                addAclass("panier1","boutona");
                            }
                            if(dcreponse.count('b')>=2){
                                addAclass("imagefin","image2");
                                removeAclass("rouge2","displayno");
                                API_MMM.track( 204 ,'dandy chic'); // --------------------------- TRACK result 2
                                removeAclass("playlist2","displayno");
                                addAclass("playlist2","boutonb");
                                $dc('pixels').setAttribute("src",pixels[3]);
                                
                                removeAclass("panier2","displayno");
                                addAclass("panier2","boutona");
                            }
                            if(dcreponse.count('c')>=2){
                                addAclass("imagefin","image3");
                                removeAclass("rouge3","displayno");
                                API_MMM.track( 205 ,'night addict'); // --------------------------- TRACK result 3
                                removeAclass("playlist3","displayno");
                                addAclass("playlist3","boutonb");
                                $dc('pixels').setAttribute("src",pixels[2]);
                                
                                removeAclass("panier3","displayno");
                                addAclass("panier3","boutona");
                            }
                            if(dcreponse.count('a')==1 && dcreponse.count('b')==1 && dcreponse.count('c')==1){
                                addAclass("imagefin","image4");
                                removeAclass("rouge4","displayno");
                                API_MMM.track( 206 ,'casual chic'); // --------------------------- TRACK result 4
                                removeAclass("playlist4","displayno");
                                addAclass("playlist4","boutonb");
                                $dc('pixels').setAttribute("src",pixels[1]);
                                
                                removeAclass("panier4","displayno");
                                addAclass("panier4","boutona");
                            }
                            addAclass("imagefin","transimage");
                            addAclass("titrefin","transtitrefin");
                            
                            
                            break;
                        default:
                            break;
                            // fin
                        }
                    return false;
                    e.returnValue = false;
                },false);
            }
        }
        
        function addAclass(id, classe){
            $dc(id).classList ? $dc(id).classList.add(classe) : $dc(id).className += ' '+classe;
        }
        
        function removeAclass(id,classe){
            $dc(id).className = $dc(id).className.replace(' ' + classe, '').replace(classe, '');
        }
        
    </script>
    </body>
</html>